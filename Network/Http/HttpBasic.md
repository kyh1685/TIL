# HTTP κΈ°λ³Έ

_κΉ€μν• κ°•μ‚¬λ‹μ λ¨λ“  κ°λ°μλ¥Ό μ„ν• HTTP μ›Ή κΈ°λ³Έ μ§€μ‹ κ°•μλ¥Ό μ •λ¦¬ν• λ‚΄μ©μ…λ‹λ‹¤._

## HTTP(HyperText Transfer Protocol)
- κ±°μ λ¨λ“  ν•νƒμ λ°μ΄ν„° μ „μ†΅ κ°€λ¥
  - html, text, image, μμ„±, μμƒ, νμΌ, JSON, XML(API)
- μ„λ²„ κ°„μ λ°μ΄ν„°λ¥Ό μ£Όκ³  λ°›μ„ λ•λ„ κ±°μ HTTP μ‚¬μ©
- 1997λ…„μ— κ°λ°λ 1.1 λ²„μ „μ„ κ°€μ¥ λ§μ΄ μ‚¬μ©

## κΈ°λ° ν”„λ΅ν† μ½
- TCP : HTTP/1.1, HTTP/2
- UDP: HTTP/3 

## HTTP νΉμ§•

### ν΄λΌμ΄μ–ΈνΈ μ„λ²„ κµ¬μ΅°
- Request, Response κµ¬μ΅°
- ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„μ— μ”μ²­μ„ λ³΄λ‚΄κ³  μ‘λ‹µμ„ κΈ°λ‹¤λ¦Ό
- μ„λ²„κ°€ μ”μ²­ν• κ²°κ³Όλ¥Ό μ‘λ‹µ

### λ¬΄μƒνƒ ν”„λ΅ν† μ½(μ¤ν…μ΄νΈλ¦¬μ¤, Stateless) 
- μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ **μƒνƒλ¥Ό λ³΄μ΅΄ν•μ§€ μ•λ” κ²ƒ**
- **μ¥μ ** : μ„λ²„μ ν™•μ¥μ„±μ΄ λ†’μ(μ¤μΌ€μΌ μ•„μ›ƒ)
- **λ‹¨μ ** : ν΄λΌμ΄μ–ΈνΈκ°€ μ¶”κ°€ λ°μ΄ν„°λ¥Ό μ „μ†΅ν•΄μ•Όν•¨

**π¤” ν•*λ§νΈμ—μ„ λ…ΈνΈλ¶μ„ μ‚°λ‹¤κ³  κ°€μ •ν•΄λ³΄μ**
- **Stateful**
  - λ™μΌν• μ§μ›μΌ κ²½μ°
    - λ…ΈνΈλ¶ κ°€κ²© λ¬Όμ–΄λ΄„ β†’ μ§μ› 100λ§μ›μ΄λΌκ³  μ•λ‚΄ 
    - 2κ° κµ¬λ§¤ν•κ² λ‹¤κ³  ν•¨ β†’ μ§μ› (λ…ΈνΈλ¶ κΈ°μ–µ) 200λ§μ›μ΄λΌκ³  μ•λ‚΄ 
    - μ‹ μ©μΉ΄λ“λ΅ κ²°μ ν•κ² λ‹¤κ³  ν•¨ β†’ μ§μ› (λ…ΈνΈλ¶, 2κ° κΈ°μ–µ) 200λ§μ› κ²°μ 
  - μ§μ›μ΄ λ‹¤λ¥Έ κ²½μ°
    - λ…ΈνΈλ¶ κ°€κ²© λ¬Όμ–΄λ΄„ β†’ μ§μ›A 100λ§μ›μ΄λΌκ³  μ•λ‚΄ 
    - 2κ° κµ¬λ§¤ν•κ² λ‹¤κ³  ν•¨ β†’ μ§μ›B μ–΄λ–¤ κ±Έ 2κ° κµ¬λ§¤ν•λ ¤λ”μ§€ λ¨λ¦„ 
    - μ‹ μ©μΉ΄λ“λ΅ κ²°μ ν•κ² λ‹¤κ³  ν•¨ β†’ μ§μ›C μ–΄λ–¤ μ ν’μ„, λ‡κ° μ‹ μ©μΉ΄λ“λ΅ κ²°μ ν•κ² λ‹¤λ” κ±΄μ§€ λ¨λ¦„
- **Stateless**
  - λ™μΌν• μ§μ›μΌ κ²½μ°
    - **λ…ΈνΈλ¶** κ°€κ²© λ¬Όμ–΄λ΄„ β†’ μ§μ› 100λ§μ›μ΄λΌκ³  μ•λ‚΄ 
    - **λ…ΈνΈλ¶ 2κ°** κµ¬λ§¤ν•κ² λ‹¤κ³  ν•¨ β†’ μ§μ› 200λ§μ›μ΄λΌκ³  μ•λ‚΄ 
    - **λ…ΈνΈλ¶ 2κ° μ‹ μ©μΉ΄λ“**λ΅ κ²°μ ν•κ² λ‹¤κ³  ν•¨ β†’ μ§μ› κ²°μ 
  - μ§μ›μ΄ λ‹¤λ¥Έ κ²½μ°
    - κ³ κ°μ΄ λ°μ΄ν„°λ¥Ό μ „λ¶€ μ κ³µν•λ‹ μμ΅°λ΅­κ² κ²°μ  κ°€λ¥ 

π“ **μ •λ¦¬(μ μ›, μ„λ²„ / κ³ κ°, ν΄λΌμ΄μ–ΈνΈ)**
- Statefulμ€ μ¤‘κ°„μ— μ μ›μ΄ λ°”λ€λ©΄ μ•λ¨
- Statelessλ” μ μ›μ΄ λ°”λ€μ–΄λ„ μƒκ΄€μ—†κ³  κ³ κ°μ΄ μ¦κ°€ν•΄λ„ μ μ› λ€κ±° ν¬μ… κ°€λ¥
- λ¬΄μƒνƒλ” μ‘λ‹µ μ„λ²„λ¥Ό μ‰½κ² λ°”κΏ€ μ μμ β†’ λ¬΄ν•ν• μ„λ²„ μ¦μ„¤ κ°€λ¥
<img src="https://images.velog.io/images/3hee_11/post/d39b03c1-69a9-406e-aaa1-0506c5948a2f/image.png" width="80%">

<img src="https://images.velog.io/images/3hee_11/post/f0dff6af-a455-4bc4-a7b8-109f079309da/image.png" width="80%">

π¨ **Stateless ν•κ³„**
- λ¨λ“  κ²ƒμ„ λ¬΄μƒνƒλ΅ μ„¤κ³„ν•  μ μ—†λ” κ²½μ°λ„ μλ‹¤.
- λ¬΄μƒνƒ μ) λ΅κ·ΈμΈμ΄ ν•„μ”μ—†λ” μ„λΉ„μ¤ μ†κ° ν™”λ©΄
- μƒνƒμ μ§€ μ) λ΅κ·ΈμΈ 

π‘‰ **μƒνƒμ μ§€λ¥Ό μµμ†ν•**μΌλ΅ μ‚¬μ©ν•κΈ°

### λΉ„μ—°κ²°μ„± 
- HTTPλ” κΈ°λ³Έμ μΌλ΅ μ—°κ²°μ„ μ μ§€ν•μ§€ μ•λ” λ¨λΈμ΄λ‹¤.
- μΌλ°μ μΌλ΅ μ΄λ‹¨μ„ μ΄ν•μ λΉ λ¥Έ μ†λ„λ΅ μ‘λ‹µν•λ‹¤.
- μ„λ²„κ°€ μ—°κ²°μ„ μ μ§€ν•μ§€ μ•κΈ° λ•λ¬Έμ— μμ›μ„ λ§¤μ° ν¨μ¨μ μΌλ΅ μ‚¬μ©ν•  μ μλ‹¤.

π¨ **λ¬Έμ μ **
- TCP/IP μ—°κ²°μ„ μƒλ΅ λ§Ίμ–΄μ•Ό ν•¨ -> 3 way handshake μ‹κ°„ μ¶”κ°€
- μ›Ή λΈλΌμ°μ €λ΅ μ‚¬μ΄νΈλ¥Ό μ”μ²­ν•λ©΄ HTML λΏλ§ μ•„λ‹λΌ μλ°”μ¤ν¬λ¦½νΈ, css, μ¶”κ°€ μ΄λ―Έμ§€ λ“± μ λ§μ€ μμ›μ΄ ν•¨κ» λ‹¤μ΄λ΅λ“
π‘‰ ν„μ¬ HTTP μ§€μ† μ—°κ²°(Persistent Connections)λ΅ λ¬Έμ  ν•΄κ²°
π‘‰ HTTP/2, HTTP/3μ—μ„ λ” λ§μ€ μµμ ν™”

π“ **μ„¤κ³„μ‹ μ¤ν…μ΄νΈλ¦¬μ¤λ¥Ό μ‚¬μ©ν•μ**(κ°™μ€ μ‹κ°„ λ°μƒν•λ” λ€μ©λ‰ νΈλν”½μ— ν¨κ³Όμ )

## HTTP λ©”μ„Έμ§€
<img src="https://images.velog.io/images/3hee_11/post/2b169092-fb6c-43d7-a726-5b5ccbe78431/image.png">

### μ”μ²­ λ©”μ„Έμ§€ - μ‹μ‘ λΌμΈ
- start-line = request-line 
- method SP(κ³µλ°±) request-target SP HTTP-version CRLF(μ—”ν„°)

#### HTTP λ©”μ„λ“ 
- μΆ…λ¥: GET, POST, PUT, DELETE λ“± 
- μ„λ²„κ°€ μν–‰ν•΄μ•Ό ν•  λ™μ‘ μ§€μ •
- GET: λ¦¬μ†μ¤ μ΅°ν
- POST: μ”μ²­ λ‚΄μ—­ μ²λ¦¬

#### μ”μ²­ λ€μƒ
- absolute-path[?query] (μ λ€κ²½λ΅[?μΏΌλ¦¬ ])
- μ λ€κ²½λ΅= "/" λ΅ μ‹μ‘ν•λ” κ²½λ΅
- μ°Έκ³ : *, http://...?x=y μ™€ κ°™μ΄ λ‹¤λ¥Έ μ ν•μ κ²½λ΅μ§€μ • λ°©λ²•λ„ μμ

### μ‘λ‹µ λ©”μ„Έμ§€ - μ‹μ‘ λΌμΈ
- start-line = status-line
- HTTP-version SP status-code SP reason-phrase CRLF
  - HTTP μƒνƒ μ½”λ“: μ”μ²­ μ„±κ³µ, μ‹¤ν¨λ¥Ό λ‚νƒ€λƒ„
    - 200: μ„±κ³µ
    - 400: ν΄λΌμ΄μ–ΈνΈ μ”μ²­ μ¤λ¥
    - 500: μ„λ²„ λ‚΄λ¶€ μ¤λ¥
    - μ΄μ  λ¬Έκµ¬: μ‚¬λμ΄ μ΄ν•΄ν•  μ μλ” μ§§μ€ μƒνƒ μ½”λ“ μ„¤λ… κΈ€
    
### HTTP ν—¤λ”
- header-field = field-name ":" OWS field-value OWS (OWS:λ„μ–΄μ“°κΈ° ν—μ©)
- field-nameμ€ λ€μ†λ¬Έμ κµ¬λ¬Έ μ—†μ
- HTTP μ „μ†΅μ— ν•„μ”ν• λ¨λ“  λ¶€κ°€μ •λ³΄
μ) λ©”μ‹μ§€ λ°”λ””μ λ‚΄μ©, λ©”μ‹μ§€ λ°”λ””μ ν¬κΈ°, μ••μ¶•, μΈμ¦, μ”μ²­ ν΄λΌμ΄μ–ΈνΈ(λΈλΌμ°μ €) μ •λ³΄, μ„λ²„ μ• ν”λ¦¬μΌ€μ΄μ… μ •λ³΄, μΊμ‹ κ΄€λ¦¬ μ •λ³΄ λ“±
- ν•„μ”μ‹ μ„μμ ν—¤λ” μ¶”κ°€ κ°€λ¥

### HTTP λ°”λ””
- μ‹¤μ  μ „μ†΅ν•  λ°μ΄ν„° 
- HTML λ¬Έμ„, μ΄λ―Έμ§€, μμƒ, JSON λ“± byteλ΅ ν‘ν„ν•  μ μλ” λ¨λ“  λ°μ΄ν„° μ „μ†΅
